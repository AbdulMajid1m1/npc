</body>
</html>
<!DOCTYPE html>
<html lang="en">
    <head>
        
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
            integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">
        <style>
            body {
                position: relative;
                font-family: DejaVu Sans, sans-serif;
                padding: 4rem;
                background-color: white;
                font-size: 1rem;
         
            }
    
            .table-suply {
                border: 1px solid black;
                border-top: none;
                margin-top: 20px;
            }
    
            .table-suply tr th,
            .table-suply tr td {
                border-top: 1px solid #000000;
                text-align: center;
                border-right: 1px solid #000000;
                padding: 1px;
    
            }
    
            .table-suply tr th:last-child,
            .table-suply tr td:last-child {
                border-right: none;
            }
    
            .p-text-1 {
                text-decoration: underline;
                padding-top: 10px;
            }
    
            .p-text-2 {
                padding-top: 10px;
            }
    
            .cont-challan-single {
                float: left;
                width: 100%;
                border: 1px solid #000000;
                padding: 5px 10px;
                margin-bottom: 20px;
            }
    
            .challan-single-title {
                float: left;
                width: 50%;
            }
    
            .suplier {
                width: 22%;
                border-right: 1px solid black;
                padding: 5px 0px;
            }
    
            .cont-suplier .challan-single-title:last-child {
                width: 77%;
                text-align: center;
                padding: 5px 0px;
            }
    
            .cont-challan-single.cont-suplier {
                padding: 0px 10px;
            }
    
            .table-suply.no-border tr td {
                border-top: none;
                border-right: none;
                padding: 0px;
            }
    
            .table-suply.no-border tr th {
                border-right: none;
            }
    
            .table-challan tr th {
                border-top: 1px solid #000000;
            }
    
            .table-challan tr th,
            .table-challan tr td {
    
                text-align: center;
            }
    
            .table-challan tr th:first-child,
            .table-challan tr td:first-child {
                border-left: 1px solid #000000;
                border-bottom: 1px solid #000000;
    
            }
    
            .table-challan tr th:last-child,
            .table-challan tr td:last-child {
                border-right: 1px solid #000000;
                border-bottom: 1px solid #000000;
    
            }
    
            .table-challan tr th:last-child,
            .table-challan tr th:first-child {
                border-bottom: none;
            }
    
            .p-tr td {
                padding: 0px !important;
                padding: 3px 8px 3px 3px !important;
                border-right: 1px solid #000000;
                border-top: 1px solid #000;
            }
    
            .invoice-total tr td,
            .invoice-total tr th {
                text-align: right;
            }
    
            footer {
                position: absolute;
                bottom: 0;
                /* margin-top: 3rem;    */
                height: 70px;
                font-size: 12px !important;
    
                /** Extra personal styles **/
                background-color: white;
                color: black;
                text-align: center;
            }
    
                    .content-container:before {
                        content: '';
                        position: absolute;
                        top: 0;
                        left: 0;
                        /* transform: translate(-50%, -50%); */
                        background-image: url("<%= data.BACKEND_URL %>/gs1Images/invoice_tree.png");
                        background-size: 500px;
                        background-position: center;
                        background-repeat: no-repeat;
                        width: 100%;
                        height: 100%;
                        opacity: .1;
                        z-index: 2;
                    }
                </style>
    
    </head>

    <body>
        <center style="margin: 0px auto;">
            <div class="content-container">
                <div class="contents">
                    <table width="100%" cellspacing="0" cellpadding="0" style="border:none;">
                        <tr>
                            <td width="100%" class="text-center text-bold" style="font-size:1.5rem;"><strong><%= data.topHeading %></strong></td>
                        </tr>
                    </table>
                    <table width="100%" cellspacing="0" cellpadding="0" style="border:none;">
                        <tr>
                            <td width="50%">
                                <img src="<%= data.BACKEND_URL %>/gs1Images/backend/logo/service_default_image.jpeg"
                                    alt="logo" style="width: 250px; height: 115px; object-fit: contain;">
                            </td>
                            <td width="50%" class="text-right">
                                <img src="<%= data.BACKEND_URL %>/gs1Images/backend/logo/logo.png"
                                    style="width: 250px; height: 115px; object-fit: contain; padding-bottom: 5px;">
                            </td>
                        </tr>
                    </table>
                    <hr style="border: 10px solid #EF6231;"></hr>
                    <table class="" width="100%" cellspacing="0" cellpadding="0" style="border:none; font-size: 1rem; line-height: 0.5 rem;">
                        <tr>
                            <td width="50%">
                                <p style="line-height: 1.5rem;"><b><%= data.secondHeading %></b><br><span><%= data.memberData.company_name_eng %></span></p>
                                <address>
                                    <p style="line-height: 1.5rem;">
                                        POBOX: <span><%= data.memberData.address.zip %></span><br>
                                        Mobile: <span><%= data.memberData.mobile %></span><br>
                                        <span><%= data.memberData.address.countryName %>, <%= data.memberData.address.stateName %>, <%= data.memberData.address.cityName %></span>
                                    </p>
                                </address>
                            </td>
                            <td width="50%" class="text-right">
                                <p class="p-text" style="line-height: 1.5rem;">
                                    <b>Date of Issue:</b> <span><%= data.currentDate.day %></span>-<span><%= data.currentDate.month %></span>-<span><%= data.currentDate.year %></span><br>
                                    <% if (data.memberData.companyID) { %>
                                        <b>Company ID:</b> <span><%= data.memberData.companyID %></span><br>
                                    <% } %>
                                    <b>Membership Category:</b> <span><%= data.memberData.membership_otherCategory %></span><br>
                                </p>
                            </td>
                        </tr>
                        <tr>
                            <td width="50%">
                                <p class="p-text">
                                    <b>Type of Payment:</b> 
                                    <%= data.memberData.registeration %>
                                </p>
                                <% if (data.memberData.gtin_subscription && data.memberData.gtin_subscription.products && data.memberData.gtin_subscription.products.member_category_description) { %>
                                    <p class="p-text">
                                        <b>Membership Type:</b> <%= data.memberData.gtin_subscription.products.member_category_description %>
                                    </p>
                                <% } %>
                                <p class="p-text">
                                    <b>Payment Method:</b> 
                                    <% if (data.cart.payment_type === 'bank_transfer') { %>
                                        Bank Transfer
                                    <% } else { %>
                                        Bank Transfer
                                    <% } %>
                                </p>
                                <% if (data.type === 'downgrade' && data.cart.cart_items[0].newDowngradeYearlyFee) { %>
                                    <p class="p-text">
                                        <b>New Subscription Yearly Fee:</b> <%= data.cart.cart_items[0].newDowngradeYearlyFee %>
                                    </p>
                                <% } %>
                            </td>
                        </tr>
                    </table>
                  
                    <!-- Invoice Items Table -->
                    <table class="table-suply table-sm" width="100%" cellspacing="0" cellpadding="0" style="font-size: 1rem;">
                        <tr class="p-text text-bold" style="background-color: #003D79; color: white;">
                            <th colspan="2">#</th>
                            <th colspan="4">Description</th>
                            <th colspan="2">Registration Fee</th>
                            <% if (data.type === 'downgrade') { %>
                                <!-- Don't show yearly fee column -->
                            <% } else { %>
                                <th colspan="2">Yearly Fee</th>
                            <% } %>
                            <% if (data.type === 'downgrade') { %>
                                <th colspan="4">SubTotal</th>
                            <% } else { %>
                                <th colspan="2">SubTotal</th>
                            <% } %>
                        </tr>
    
                        <% data.cart.cart_items.forEach((item, index) => { %>
                            <tr>
                                <td colspan="2" class="text-center p-text"><%= index + 1 %></td>
                                <td colspan="4" class="p-text text-left"><%= item.productName %></td>
                                <td colspan="2" class="p-text text-right"><%= item.registration_fee %></td>
                                <% if (data.type === 'downgrade') { %>
                                    <!-- Don't show yearly fee -->
                                <% } else { %>
                                    <td colspan="2" class="p-text text-right"><%= item.yearly_fee %></td>
                                <% } %>
                                <% if (data.type === 'downgrade') { %>
                                    <td colspan="4" class="text-right p-text text-left"><%= parseInt(item.registration_fee, 10) %></td>
                                <% } else { %>
                                    <td colspan="2" class="text-right p-text text-left"><%= parseInt(item.registration_fee, 10) + parseInt(item.yearly_fee, 10) %></td>
                                <% } %>
                            </tr>
                        <% }); %>
    
                        <tr style="background-color: #003D79; color: white; font-weight: bold;">
                            <td colspan="10" class="text-bold p-text text-left">Total</td>
                            <% let totalPrice = 0; %>
                            <% data.cart.cart_items.forEach((item) => { %>
                                <% if (data.type === 'downgrade') { %>
                                    <% totalPrice += parseInt(item.registration_fee, 10); %>
                                <% } else { %>
                                    <% totalPrice += parseInt(item.registration_fee, 10) + parseInt(item.yearly_fee, 10); %>
                                <% } %>
                            <% }); %>
                            <td colspan="2" class="text-bold p-text text-right">(SAR) <%= totalPrice %></td>
                        </tr>
                    </table><br>
    
                    <% if (data.renew) { %>
                        <!-- Renewal Pricing Table -->
                        <table class="table-suply table-sm" width="100%" cellspacing="0" cellpadding="0" style="font-size: 1rem;">
                            <tr class="p-text text-bold" style="background-color: #003D79; color: white;">
                                <th colspan="2">#</th>
                                <th colspan="6">Renewal Description</th>
                                <th colspan="2">Yearly Fee</th>
                                <th colspan="2">SubTotal</th>
                            </tr>
    
                            <% data.renewalItems.forEach((item, index) => { %>
                                <tr>
                                    <td colspan="2" class="text-center p-text"><%= index + 1 %></td>
                                    <td colspan="6" class="p-text text-left"><%= item.productName %></td>
                                    <td colspan="2" class="p-text text-right"><%= item.yearly_fee %></td>
                                    <td colspan="2" class="text-right p-text text-left"><%= parseInt(item.yearly_fee, 10) %></td>
                                </tr>
                            <% }); %>
    
                            <tr style="background-color: #003D79; color: white; font-weight: bold;">
                                <td colspan="10" class="text-bold p-text text-left">Renewal Total</td>
                                <% let renewalTotalPrice = 0; %>
                                <% data.renewalItems.forEach((item) => { %>
                                    <% renewalTotalPrice += parseInt(item.yearly_fee, 10); %>
                                <% }); %>
                                <td colspan="2" class="text-bold p-text text-right"><%= renewalTotalPrice %></td>
                            </tr>
                        </table><br>
    
                        <!-- Grand Total -->
                        <table class="table-suply table-sm" width="100%" cellspacing="0" cellpadding="0" style="font-size: 1rem;">
                            <tr style="background-color: #003D79; color: white; font-weight: bold;">
                                <td colspan="10" class="text-bold p-text text-left">Grand Total</td>
                                <td colspan="2" class="text-bold p-text text-right"><%= totalPrice + renewalTotalPrice %></td>
                            </tr>
                        </table><br>
                    <% } %>
    
                    <div>
                        <p class="p-text" style="line-height: 0.5;">This is a system generated document and does not
                            require any signature and stamp.</p>
                    </div>
    
                    <!-- Bank Details Table -->
                    <table class="table-suply table-sm" width="100%" cellspacing="0" cellpadding="0" style="font-size: 1rem;">
                        <tr class="p-text text-bold" style="background-color: #003D79;">
                            <td colspan="12" align="center" class="p-text text-left"
                                style="color: white; font-weight: bold; font-size: 1rem;">
                                For transfer to our bank account
                            </td>
                        </tr>
                        <tr>
                            <td width="40%" colspan="4" class="text-left">Name</td>
                            <td width="60%" colspan="8" class="text-left"><%= data.company_details.title %></td>
                        </tr>
                        <tr>
                            <td width="40%" colspan="4" class="text-left">Account Number</td>
                            <td width="60%" colspan="8" class="text-left"><%= data.company_details.account_no %></td>
                        </tr>
                        <tr>
                            <td width="40%" colspan="4" class="text-left">IBAN NO</td>
                            <td width="60%" colspan="8" class="text-left"><%= data.company_details.iban_no %></td>
                        </tr>
                        <tr>
                            <td width="40%" colspan="4" class="text-left">Bank Name</td>
                            <td width="60%" colspan="8" class="text-left"><%= data.company_details.bank_name %></td>
                        </tr>
                        <tr>
                            <td width="40%" colspan="4" class="text-left">Bank Swift Code</td>
                            <td width="60%" colspan="8" class="text-left"><%= data.company_details.bank_swift_code %></td>
                        </tr>
                    </table><br>
    
                    <div>
                        <p class="p-text" style="line-height: 0.5;">*Upon transfer, Please upload a copy of transfer receipt
                            from your account.</p>
                    </div>
                </div>
            </div>
        </center>
    
        <!----------------------------->
        <footer>
            <table class="" width="100%" cellspacing="0" cellpadding="0"
                style="border:none; font-size: 1rem; line-height: 0.5 rem;">
                <tr>
                    <td width="10%" class="text-left" style="border-right-style: 1px solid; border-color: #ED7D31">
                        <img src="<%= data.memberData.qrCodeDataURL %>"
                            style="width: 70px; height: 70px;"
                            alt="QR Code">
                    </td>
                    <td width="90%" class="text-left" style="margin-left: 10px;">
                        <table class="" width="100%" cellspacing="0" cellpadding="0"
                            style="border:none; font-size: 1rem; line-height: 0.5 rem;">
                            <tr>
                                <td>
                                    <i class="fas fa-phone" aria-hidden="true"></i>
                                </td>
                                <td style="padding-left: 10px;">
                                    <span>9200</span>-<span>31437</span>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <i class="fas fa-envelope" aria-hidden="true"></i>
                                </td>
                                <td style="padding-left: 10px;">
                                    gs1sa@gs1.org.sa
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <i class="fas fa-map-marker" aria-hidden="true"></i>
                                </td>
                                <td style="padding-left: 10px;">
                                    <span>
                                        King Fahad Branch Road, Al-Moatamarat District
                                        P.O.Box 16683 Riyadh 11474, Saudi Arabia
                                    </span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </footer>
    </body>
    

</html>
